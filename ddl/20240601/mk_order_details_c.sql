DROP TABLE IF EXISTS `mk_order_details_c`;
CREATE TABLE `mk_order_details_c`
(
    `RECORD_DATE`       DATE              NOT NULL COMMENT '数据冷库入库日期',
    `DT_PT`             SMALLINT UNSIGNED NOT NULL COMMENT '日期分区键',
    `SERIAL_ID`         VARCHAR(30)       NOT NULL COMMENT '全局唯一序号',
    `ORDER_ID`          VARCHAR(30)       NOT NULL COMMENT '订单编号',
    `AMOUNT`            DECIMAL(16, 0)    NOT NULL COMMENT '交易金额',
    `CURRENCY`          CHAR(3)           NOT NULL COMMENT '交易币种号',
    `PRODUCT_CODE`      CHAR(10)          NOT NULL COMMENT '商品编号',
    `UNIT_PRICE`        DECIMAL(16, 2)    NOT NULL COMMENT '商品单价',
    `QUANTITY`          INT UNSIGNED      NOT NULL COMMENT '商品数量',
    `ORDER_TIMESTAMP`   CHAR(23)          NOT NULL COMMENT '订单创建时间戳',
    `STATUS`            TINYINT UNSIGNED  NOT NULL COMMENT '订单状态',
    `SUMMARY`           VARCHAR(100)   DEFAULT NULL COMMENT '摘要',
    `CREATED_DATA_DATE` CHAR(10)       DEFAULT '1900-01-01' COMMENT '数据创建日期',
    `CREATED_DATA_TIME` CHAR(8)        DEFAULT '00:00:00' COMMENT '数据创建时间',
    `LAST_UPDATE_DATE`  CHAR(10)       DEFAULT '1900-01-01' COMMENT '数据最后更新日期',
    `LAST_UPDATE_TIME`  CHAR(8)        DEFAULT '00:00:00' COMMENT '数据最后更新时间',
    `BAK1`              VARCHAR(255)   DEFAULT NULL COMMENT '备用字段1',
    `BAK2`              INT            DEFAULT NULL COMMENT '备用字段2',
    `BAK3`              DECIMAL(16, 2) DEFAULT NULL COMMENT '备用字段3'
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4
  COLLATE = utf8mb4_0900_ai_ci
  ROW_FORMAT = DYNAMIC COMMENT ='订单明细表冷表'
    PARTITION BY RANGE (YEAR(`RECORD_DATE`))
        (
        PARTITION p2000 VALUES LESS THAN (TO_DAYS('2001-01-01')),
        PARTITION p2001 VALUES LESS THAN (TO_DAYS('2002-01-01')),
        PARTITION p2002 VALUES LESS THAN (TO_DAYS('2003-01-01')),
        PARTITION p2003 VALUES LESS THAN (TO_DAYS('2004-01-01')),
        PARTITION p2004 VALUES LESS THAN (TO_DAYS('2005-01-01')),
        PARTITION p2005 VALUES LESS THAN (TO_DAYS('2006-01-01')),
        PARTITION p2006 VALUES LESS THAN (TO_DAYS('2007-01-01')),
        PARTITION p2007 VALUES LESS THAN (TO_DAYS('2008-01-01')),
        PARTITION p2008 VALUES LESS THAN (TO_DAYS('2009-01-01')),
        PARTITION p2009 VALUES LESS THAN (TO_DAYS('2010-01-01')),
        PARTITION p2010 VALUES LESS THAN (TO_DAYS('2011-01-01')),
        PARTITION p2011 VALUES LESS THAN (TO_DAYS('2012-01-01')),
        PARTITION p2012 VALUES LESS THAN (TO_DAYS('2013-01-01')),
        PARTITION p2013 VALUES LESS THAN (TO_DAYS('2014-01-01')),
        PARTITION p2014 VALUES LESS THAN (TO_DAYS('2015-01-01')),
        PARTITION p2015 VALUES LESS THAN (TO_DAYS('2016-01-01')),
        PARTITION p2016 VALUES LESS THAN (TO_DAYS('2017-01-01')),
        PARTITION p2017 VALUES LESS THAN (TO_DAYS('2018-01-01')),
        PARTITION p2018 VALUES LESS THAN (TO_DAYS('2019-01-01')),
        PARTITION p2019 VALUES LESS THAN (TO_DAYS('2020-01-01')),
        PARTITION p2020 VALUES LESS THAN (TO_DAYS('2021-01-01')),
        PARTITION p2021 VALUES LESS THAN (TO_DAYS('2022-01-01')),
        PARTITION p2022 VALUES LESS THAN (TO_DAYS('2023-01-01')),
        PARTITION p2023 VALUES LESS THAN (TO_DAYS('2024-01-01')),
        PARTITION p2024 VALUES LESS THAN (TO_DAYS('2025-01-01')),
        PARTITION p2025 VALUES LESS THAN (TO_DAYS('2026-01-01')),
        PARTITION p2026 VALUES LESS THAN (TO_DAYS('2027-01-01')),
        PARTITION p2027 VALUES LESS THAN (TO_DAYS('2028-01-01')),
        PARTITION p2028 VALUES LESS THAN (TO_DAYS('2029-01-01')),
        PARTITION p2029 VALUES LESS THAN (TO_DAYS('2030-01-01')),
        PARTITION p2030 VALUES LESS THAN (TO_DAYS('2031-01-01')),
        PARTITION pFuture VALUES LESS THAN MAXVALUE -- 一个"未来"分区，用于之后的所有日期
        );
